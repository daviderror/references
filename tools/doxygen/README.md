# doxygen

+ [about](#about)
+ [sequence](#sequence)
+ [install](#install)
+ [config_file_name_generation](#config_file_name_generation)
+ [tags](#tags)
+ [generation](#generation)
+ [single_line_block](#single_line_block)
+ [multi_line_block](#multi_line_block)
+ [commands](#commands)
+ [file_documentation](#file_documentation)
+ [function_and_methods_documentation](#function_and_methods_documentation)
+ [class_documentation](#class_documentation)
+ [modules](#modules)
+ [code_insertion](#code_insertion)
+ [launch](#launch)

## about 
doxygen - программа генирации программного обеспечениядля кода.

Узается из командной строки, но есть визарды: Graphviz (ставится отдельно), Doxywizard (ставиться сразу при установке doxygen).

`doxygen --help` или `doxygen -h`
`doxygen -v`

## sequence
+ [file_documentation](#file_documentation)
+ [function_and_methods_documentation](#function_and_methods_documentation)
+ [class_documentation](#class_documentation)

## install
`sudo apt-get install doxygen`

## config_file_name_generation
`doxygen -g <config_file_name>.conf`

Но в этом файле и вся тонкость. Дело в том, что каждому проекту соответствует свой файл настроек, в котором может быть прописан путь до исходников проекта, путь, по которому должна быть создана документация, а также большое число других разнообразных опций, которые подробно описаны в документации, и которые позволяют максимально настроить документацию проекта под свои нужды.

## tags
| tag | описание | по умолчанию |
| :--- | :--- | :--- |
| DOXYFILE_ENCODING | Кодировка, которая используется для всех символов в данном файле настроек | UTF-8|
| OUTPUT_LANGUAGE | Устанавливает язык, на котором будет сгенерирована документация | English |
| PROJECT_NAME | Название проекта, которое может представлять собой единое слово или последовательность слов (если вы редактируете вне Doxywizard, последовательность слов необходимо поместить в двойные кавычки) | My Project |
| PROJECT_NUMBER | Данный тэг может быть использован для указания номера проекта или его версии | - |
| PROJECT_BRIEF | Краткое однострочное описание проекта, которое размещается сверху каждой страницы и даёт общее представление о назначении проекта | - |
| OUTPUT_DIRECTORY | Абсолютный или относительный путь, по которому будет сгенерирована документация | Текущая директория |
| INPUT | Список файлов и/или директорий, разделенных пробелом, которые содержат в себе исходные коды проекта | Текущая директория |
| RECURSIVE | Используется в том случае, если необходимо сканировать исходные коды в подпапках указанных директорий | NO |
|  |  |  |

## generation

Документация кода в Doxygen осуществляется при помощи документирующего блока (комментарий оформленный специальным образом). При этом существует два подхода к его размещению:
1. Он может быть размещён перед или после объявления или определения класса, члена класса, функции, пространства имён и т.д.;
2. Либо его можно располагать в произвольном месте (и даже другом файле), но для этого потребуется явно указать в нём, к какому элементу кода он относится. Мы не будет рассматривать этот подход, поскольку даже разработчики рекомендуют его избегать, но если интересно, то подробнее о нём можно прочитать в документации;

Существует два основных типа документирующих блоков:
1. [однострочный](#single_line_block)
2. [многострочный](#multi_line_block)

Документирующие блоки, следующие друг за другом, объединяются в один (причем вне зависимости от используемого стиля и того, являются они многострочными или однострочными).

Так эти два разных типа блока сольются в один коментарий:
```
///Краткое описание
/*!
    Подробное описание
 */
```
`/**< Detailed description after the member */` - для установки коментария после объекта требуется добавить маркер "<";

## single_line_block
Относится к краткому описанию документируемого элемента.

`/// Краткое описание`
или
`//! Краткое описание`

`int variable; ///< Краткое описание` - для установки коментария после объекта требуется добавить маркер "<";

## multi_line_block
Относится к подробному описанию документируемого элемента.
```
/**
 * ... первая строчка ...
 * ... вторая строчка ...
 */
```
или
```
/**
 ... первая строчка ...
 ... вторая строчка ...
 */
```
или
```
/*!
 * ... первая строчка ...
 * ... вторая строчка ...
 */
```

## commands
Команда в Doxygen представляет собой слово на английском языке предваренное символом `\` или `@` и таких команд очень много, порядка двухсот.

Основные команды:
| command | описание |
| :--- | :--- |
| \authors | Указывает автора или авторов |
| \version | Используется для указания версии |
| \date | Предназначена для указания даты разработки |
| \bug | Перечисление известных ошибок |
| \warning | Предупреждение для использования |
| \copyright | Используемая лицензия |
| \example | Команда, добавляемая в комментарий для указания ссылки на исходник с примером (добавляется после команды) |
| \todo | Команда, используется для описания тех изменений, которые необходимо будет сделать |
| \file | Указать, что данный блок относится к файлу |
| \param | Ппараметр функции |
| \throw  | Указание исключения, вариант 1 |
| \throws | Указание исключения, вариант 2 |
| \exception | Указание исключения, вариант 3 |
| \defgroup | Определяет модуль |
| \addtogroup | Добавляет в модуль |
| \ingroup | Определяет подмодуль |
| \code | Начало вставки кода в блок |
| \endcode | Конец вставки кода в блок |
| \example | Определяет путь к файлу с примером использования кода |
| \include | Определяет путь к include файлу |
|  |  |

```
/**
 * \brief Дочерний класс
 * \author Norserium
 * \version 1.0
 * \date Март 2015 года
 * \warning Данный класс создан только в учебных целях.
 *
 * Обычный дочерний класс, который отнаследован от ранее созданного класса Parent.
 */

class Son : public Parent {
public:
	Son();
	~Son();
};
```

Можно создовать свои команды. todo:как

## file_documentation
Хорошей практикой является добавление в начало файла документирующего блока, описывающегося его назначение. Для того, чтобы указать, что данный блок относится к файлу необходимо воспользоваться командой \file.

```
/**
 * \file
 * \brief Заголовочный файл с описанием классов.
 *
 * Данный файл содержит в себе определения основных 
 * классов, используемых в демонстрационной программе.
 */

#ifndef CLASSES_H
#define CLASSES_H

...

#endif // CLASSES_H
```

## function_and_methods_documentation
При документировании функций и методов чаще всего необходимо указать входные параметры, возвращаемое функцией значение, а также возможные исключения.

Для указания параметров необходимо использовать команду \param для каждого из параметров функции, при этом синтаксис команды имеет следующий вид:

`\param [in],[out],[in,out] parameter_name parameter_description`

```
/**
 * Копирует содержимое из исходной области памяти в целевую область память
 * \param[out] dest      Целевая область памяти.
 * \param[in]  src       Исходная область памяти.
 * \param[in]  n         Количество байтов, которые необходимо скопировать.
 * \throw std::bad_alloc В случае возникновения ошибки при выделении памяти
 *
 * \return результат выполнения.
 */ 	

int memcpy(void *dest, const void *src, size_t n);
```

## class_documentation
Классы также могут быть задокументированы просто предварением их документирующим блоком. При этом огромное количество информации Doxygen получает автоматически, учитывая синтаксис языка, поэтому задача документирования классов значительно упрощается. Так при документировании Doxygen автоматические определяет методы и члены класса, уровни доступа к функциям, дружественные функции и т.п.

## enum_documentation
Документирование перечислений не сильно отличается от документирования других элементов.

```
/// Набор возможных состояний объекта
enum States {
         Disabled, ///< Указывает, что элемент недоступен для использования
         Undefined, ///< Указывает, что состояние элемента неопределенно
         Enabled, ///< Указывает, что элемент доступен для использования
}
```
То есть описание состояний указывается, собственно, после них самих при помощи краткого или подробного описания.

## modules
Делается через `\defgroup`. Нужно для модульной структуры документации опциональная функция, но хорошо бы уметь юзать.
`@{ и @}` - используются для обозначения блоков кода входящих в модуль.

```
/*! 
    \defgroup maze_generation Генерация лабиринтов
    @{
    \brief Данный модуль, предназначен для генерации лабиринтов 0.
    
     На данный момент он поддерживает следующие алгоритмы генерации лабиринтов: Eller's algorithm, randomized Kruskal's algorithm, cellular automaton algorithm, randomized Prim's algorithm.
*/

...

/*! 
    @}
    \brief Данный модуль, предназначен для генерации лабиринтов 1.
    
     На данный момент он поддерживает следующие алгоритмы генерации лабиринтов: Eller's algorithm, randomized Kruskal's algorithm, cellular automaton algorithm, randomized Prim's algorithm.
*/

```

Если элементы одного модуля разнесены по разным файлом, то используется `\addtogroup`.

```
/*! 
    \addtogroup maze_generation Генерация лабиринтов
    @{
    \brief Данный модуль, предназначен для генерации лабиринтов 2.
    
     На данный момент он поддерживает следующие алгоритмы генерации лабиринтов: Eller's algorithm, randomized Kruskal's algorithm, cellular automaton algorithm, randomized Prim's algorithm.
*/


...

/*! 
    @}
    \brief Данный модуль, предназначен для генерации лабиринтов 3.
    
     На данный момент он поддерживает следующие алгоритмы генерации лабиринтов: Eller's algorithm, randomized Kruskal's algorithm, cellular automaton algorithm, randomized Prim's algorithm.
*/
```

Можно создовать подгруппы:
```
/*! \defgroup second_module Вложенный модуль 
     \ingroup main_module
*/
```

## code_insertion

Если нужно вставить код в блок коментария:
```
\code 
    int gcd(int a, int b) {
            int r;
            while (b) {
                  r = a % b;
                  a = b;
                  b = r;
            }
            return r;
     }
\endcode
```

## launch
`doxygen <config_file_name>.conf` - что бы создать документацию, достаточно просто указать doxygen'у путь до конфигурационного файла.


